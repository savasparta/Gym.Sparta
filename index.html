<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>GYM SPARTA â€“ OFFLINE MASTER CORE</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="apple-touch-icon" href="logo.png.PNG">
<meta name="theme-color" content="#000000">

<style>
:root{
--gold:#d4af37;
--dark:#000;
--card:#111;
--input:#1a1a1a;
--danger:#a00000;
--ok:#0a7a2f;
--warn:#ff9800;
}

body{
margin:0;
padding:20px;
background:var(--dark);
color:#fff;
font-family:Arial,Helvetica,sans-serif;
text-align:center;
}

h1,h2,h3{color:var(--gold);}
.logo{width:85%;max-width:260px;margin:20px auto;display:block;}

.card{
background:var(--card);
border:2px solid var(--gold);
border-radius:18px;
padding:18px;
margin:18px auto;
max-width:760px;
text-align:left;
}

button{
width:100%;
padding:14px;
margin-top:12px;
background:var(--gold);
color:#000;
border:none;
border-radius:12px;
font-size:17px;
font-weight:bold;
cursor:pointer;
}

button.danger{background:var(--danger);color:#fff;}

input,select,textarea{
width:100%;
padding:14px;
margin-top:10px;
border-radius:12px;
border:2px solid var(--gold);
background:var(--input);
color:#fff;
font-size:16px;
}

.hidden{display:none}
.status-ok{color:#6fff95;font-weight:bold;}
.status-bad{color:#ff6f6f;font-weight:bold;}
.status-warn{color:var(--warn);font-weight:bold;}

.week,.month{
display:grid;
grid-template-columns:repeat(7,1fr);
gap:6px;
margin-top:10px;
}

.day{
border:1px solid var(--gold);
border-radius:8px;
padding:10px;
font-size:12px;
cursor:pointer;
text-align:center;
}

.day.done{background:var(--gold);color:#000;font-weight:bold;}
.day.today{outline:2px solid #6fff95;}

.rank{
padding:8px;
border-radius:10px;
font-weight:bold;
text-align:center;
margin-top:8px;
}

.footer{color:var(--gold);margin:40px 0;font-weight:bold;}
</style>
</head>

<body>

<img src="logo.png.PNG" class="logo">
<h1>ğŸ›ï¸ GYM SPARTA ğŸ›ï¸</h1>

<div class="card hidden" id="accessBox">
<h2>âš”ï¸ Spartan Zugang</h2>
<input id="accessCode" placeholder="Sparta-Code">
<input id="spartaName" placeholder="Spartan Name">
<button onclick="unlock()">Eintreten</button>
</div>

<div class="hidden" id="app">
<h2 id="welcome"></h2>

<div class="card">
<h3>ğŸ§  SPARTAN COACH</h3>
<div id="coachQuote" style="font-weight:bold;margin-bottom:10px;"></div>
<div id="coachRule" style="font-size:14px;opacity:0.9;"></div>
</div>

<div class="card">
<h3>ğŸ›¡ï¸ SYSTEM STATUS</h3>
GerÃ¤t: <span id="deviceStatus" class="status-ok">Gebunden</span><br>
Modus: <span class="status-ok">Offline</span><br>
Rang: <span id="rankText"></span><br>
Letzte Aktion: <span id="lastAction">â€“</span><br>
Aktiver Plan: <span id="activePlan">â€“</span><br>
ErnÃ¤hrung: <span id="activeFood">â€“</span><br>
Letzter aktiver Tag: <span id="lastDay">â€“</span>
</div>

<div class="card">
<h3>ğŸ‘¤ PROFIL</h3>
Level: <span id="level">1</span><br>
XP: <span id="xp">0</span><br>
ğŸ”¥ Streak: <span id="streak">0</span>
<div id="rankBox" class="rank"></div>
</div>

<div class="card">
<h3>ğŸ”¥ BEAST MODE â€“ 30 TAGE</h3>
Status: <span id="beastStatus">Nicht aktiv</span><br>
<button onclick="startBeast()">Beast starten</button>
<div id="beastBox" class="hidden">
<label><input type="checkbox" id="bmTrain"> Training</label><br>
<label><input type="checkbox" id="bmFood"> ErnÃ¤hrung</label><br>
<label><input type="checkbox" id="bmSleep"> Schlaf</label><br>
<button onclick="completeBeastDay()">Tag abschlieÃŸen</button>
</div>
</div>

<div class="card">
<h3>ğŸ“… WOCHEN-TRACKER</h3>
<div class="week" id="week"></div>
</div>

<div class="card">
<h3>ğŸ—“ï¸ MONATS-KALENDER</h3>
<div class="month" id="month"></div>
</div>

<div class="card">
<h3>ğŸ“œ XP-CHRONIK</h3>
<div id="xpLog"></div>
</div>

<div class="card">
<h3>ğŸ“¡ SYSTEM LOG</h3>
<div id="systemLog"></div>
</div>

<div class="card">
<h3>ğŸ… ERFOLGE</h3>
<div id="badgesBox"></div>
</div>

<div class="card">
<h3>ğŸ‹ï¸ TRAININGSPLAN</h3>
<select id="planSelect" onchange="savePlan()">
<option value="">â€“ auswÃ¤hlen â€“</option>
<option>6 Tage ALL-IN</option>
<option>4 Tage Spartan Split</option>
<option>3 Tage Spartan Split</option>
</select>
</div>

<div class="card">
<h3>ğŸ¥— ERNÃ„HRUNG</h3>
<select id="foodSelect" onchange="saveFood()">
<option value="">â€“ auswÃ¤hlen â€“</option>
<option>Masse</option>
<option>Lean Bulk</option>
<option>DiÃ¤t</option>
<option>Hardcore</option>
</select>
</div>

<div class="card">
<h3>ğŸ““ LOGBUCH</h3>
<textarea id="postText"></textarea>
<button onclick="addPost()">Speichern</button>
<div id="feed"></div>
</div>

<!-- ğŸ“¦ BACKUP CARD (NEU) -->
<div class="card">
<h3>ğŸ“¦ BACKUP & WIEDERHERSTELLUNG</h3>
<button onclick="exportData()">â¬‡ï¸ Backup exportieren</button>
<input type="file" id="importFile" accept=".json" style="margin-top:12px;">
<button onclick="importData()">â¬†ï¸ Backup importieren</button>
<p style="font-size:13px;opacity:0.8;margin-top:10px;">
âš ï¸ Import Ã¼berschreibt den aktuellen Zustand komplett.
</p>
</div>

<button class="danger" onclick="resetAll()">âš ï¸ RESET</button>
</div>

<p class="footer">GYM-SPARTA Â· OFFLINE Â· MASTER CORE ğŸ›ï¸</p>

<script>
/* ================= BACKUP SYSTEM ================= */

function exportData(){
const data={};
for(let i=0;i<localStorage.length;i++){
const key=localStorage.key(i);
data[key]=localStorage.getItem(key);
}
const blob=new Blob([JSON.stringify({
version:"GYM-SPARTA-MASTER",
timestamp:new Date().toISOString(),
data
},null,2)],{type:"application/json"});
const a=document.createElement("a");
a.href=URL.createObjectURL(blob);
a.download="gym-sparta-backup-"+new Date().toISOString().slice(0,10)+".json";
a.click();
logSystem("Backup exportiert");
}

function importData(){
const file=document.getElementById("importFile").files[0];
if(!file) return alert("Keine Datei gewÃ¤hlt");
if(!confirm("âš ï¸ ALLE aktuellen Daten werden Ã¼berschrieben. Fortfahren?")) return;
const reader=new FileReader();
reader.onload=e=>{
try{
const json=JSON.parse(e.target.result);
if(!json.data) throw "UngÃ¼ltiges Backup";
localStorage.clear();
Object.keys(json.data).forEach(k=>localStorage.setItem(k,json.data[k]));
location.reload();
}catch(err){
alert("âŒ Backup beschÃ¤digt oder inkompatibel");
}
};
reader.readAsText(file);
}
</script>

</body>
</html>
